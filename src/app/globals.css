@import "tailwindcss";

@layer base {
  :root {
    /* Design Tokens â€” Warm Cream Theme */
    --bg-page: #FAFAF7;
    --bg-card: #F5F4EF;
    --bg-card-hover: #EFEDE6;
    
    --border-light: #E8E6DF;
    --border-medium: #D9D6CD;
    
    --text-primary: #1C1917;
    --text-secondary: #57534E;
    --text-muted: #A8A29E;
    
    --brand-primary: #0EA5E9;
    --brand-primary-hover: #0284C7;
    
    --status-optimal: #10B981;
    --status-warning: #F59E0B;
    --status-critical: #EF4444;

    /* Shadcn UI compatibility (optional but good for plugins) */
    --background: 40 33% 98%; /* #FAFAF7 */
    --foreground: 20 14% 10%; /* #1C1917 */
    --radius: 14px;
  }

  body {
    background-color: var(--bg-page);
    color: var(--text-primary);
    font-family: var(--font-dm-sans), system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Force cream theme on existing white surfaces to prevent "flash of white" */
  .bg-white {
    background-color: var(--bg-card) !important;
  }

  h1, h2, h3, .font-display {
    font-family: var(--font-instrument), Georgia, serif;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .page-enter {
    animation: fadeIn 0.25s ease-out forwards;
  }
}

@media print {
  /* 1. Hide UI elements */
  nav, 
  aside, 
  button, 
  .print-hidden, 
  [role="status"],
  .feedback-button,
  .bottom-menu {
    display: none !important;
  }

  /* 2. Reset layout */
  body, 
  main, 
  .flex, 
  .grid {
    display: block !important;
    width: 100% !important;
    height: auto !important;
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    color: black !important;
  }

  /* 3. Force white background and high contrast */
  * {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
  }

  .bg-white, 
  .bg-slate-50, 
  .bg-[#FAFAF7], 
  .bg-[#F5F4EF] {
    background: white !important;
    border-color: #eee !important;
  }

  /* 4. Ensure lists don't scroll/cut off */
  .overflow-y-auto, 
  .max-h-[400px], 
  .max-h-[500px] {
    overflow: visible !important;
    max-height: none !important;
  }

  /* 5. Page breaks */
  section, 
  .card, 
  .grid > div {
    page-break-inside: avoid;
    break-inside: avoid;
    margin-bottom: 20px !important;
  }

  h1, h2 {
    page-break-after: avoid;
  }

  /* 6. Typography */
  h1 { font-size: 24pt !important; }
  h2 { font-size: 18pt !important; }
  p, span { font-size: 11pt !important; }

  /* 7. Show actual URLs next to links (optional but clinical) */
  a[href]:after {
    content: " (" attr(href) ")";
    font-size: 9pt;
    color: #666;
  }
  
  /* 8. Fix charts for print */
  .recharts-responsive-container {
    width: 100% !important;
    height: 300px !important;
  }
}
